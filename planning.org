#+TITLE: Scheme of the engine
* World
* World generator
Layers + noise + maybe caves? 
* Event queue
* Time service
Timed events + time between frames
* Renderer
** Text
** Camera
follows an object or freeway
** World
*** Terrain
- Multiple objects via instance rendering
- Big texture for all types of terrain
- Shaders:
     - Type
     - Vertex
     - transformation matrix
     - texture coordinates
     - material code
- Only draw what's visible
*** Water
Texture + fancy shaders; noise, reflection of sky? 
*** Sky
Generate on the fly; stars, sun/moon as light source
*** Objects
Models;
.obj or something
Main character
Actions

*** Decorations
Trees? Other resources
*** Lights
- Shaders should be aware of them
- Only small-distance point lights?
  Just phong model with point lights
* VBO layout
x y z : float, vertex
a b c : float, normal
t s : float, texture
f11..14: float, transformation matrix?
f21..24: float
f31..34: float
f41..44: float
